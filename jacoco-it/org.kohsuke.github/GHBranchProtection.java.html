<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang=""><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>GHBranchProtection.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">GitHub API for Java</a> &gt; <a href="index.source.html" class="el_package">org.kohsuke.github</a> &gt; <span class="el_source">GHBranchProtection.java</span></div><h1>GHBranchProtection.java</h1><pre class="source lang-java linenums">package org.kohsuke.github;

import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import edu.umd.cs.findbugs.annotations.SuppressFBWarnings;

import java.io.IOException;
import java.util.Collection;
import java.util.Collections;

// TODO: Auto-generated Javadoc
/**
 * The type GHBranchProtection.
 *
 * @see &lt;a href=&quot;https://docs.github.com/en/rest/reference/repos#get-branch-protection&quot;&gt;GitHub Branch Protection&lt;/a&gt;
 */
@SuppressFBWarnings(
        value = { &quot;UWF_UNWRITTEN_PUBLIC_OR_PROTECTED_FIELD&quot;, &quot;UWF_UNWRITTEN_FIELD&quot;, &quot;NP_UNWRITTEN_FIELD&quot;,
                &quot;URF_UNREAD_FIELD&quot; },
        justification = &quot;JSON API&quot;)
public class GHBranchProtection extends GitHubInteractiveObject {

    /**
     * The type AllowDeletions.
     */
    public static class AllowDeletions {

        @JsonProperty
        private boolean enabled;

        /**
         * Create default AllowDeletions instance
         */
<span class="fc" id="L34">        public AllowDeletions() {</span>
<span class="fc" id="L35">        }</span>

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L43">            return enabled;</span>
        }
    }

    /**
     * The type AllowForcePushes.
     */
    public static class AllowForcePushes {

        @JsonProperty
        private boolean enabled;

        /**
         * Create default AllowForcePushes instance
         */
<span class="fc" id="L58">        public AllowForcePushes() {</span>
<span class="fc" id="L59">        }</span>

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L67">            return enabled;</span>
        }
    }

    /**
     * The type AllowForkSyncing.
     */
    public static class AllowForkSyncing {

        @JsonProperty
        private boolean enabled;

        /**
         * Create default AllowForkSyncing instance
         */
<span class="fc" id="L82">        public AllowForkSyncing() {</span>
<span class="fc" id="L83">        }</span>

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L91">            return enabled;</span>
        }
    }

    /**
     * The type BlockCreations.
     */
    public static class BlockCreations {

        @JsonProperty
        private boolean enabled;

        /**
         * Create default BlockCreations instance
         */
<span class="fc" id="L106">        public BlockCreations() {</span>
<span class="fc" id="L107">        }</span>

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L115">            return enabled;</span>
        }
    }

    /**
     * The type Check.
     */
    public static class Check {
        @JsonInclude(JsonInclude.Include.NON_NULL)
        private Integer appId;

        private String context;

        /**
         * no-arg constructor for the serializer
         */
<span class="fc" id="L131">        public Check() {</span>
<span class="fc" id="L132">        }</span>

        /**
         * Regular constructor for use in user business logic
         *
         * @param context
         *            the context string of the check
         * @param appId
         *            the application ID the check is supposed to come from. Pass &quot;-1&quot; to explicitly allow any app to
         *            set the status. Pass &quot;null&quot; to automatically select the GitHub App that has recently provided this
         *            check.
         */
<span class="fc" id="L144">        public Check(String context, Integer appId) {</span>
<span class="fc" id="L145">            this.context = context;</span>
<span class="fc" id="L146">            this.appId = appId;</span>
<span class="fc" id="L147">        }</span>

        /**
         * The application ID the check is supposed to come from. The value &quot;-1&quot; indicates &quot;any source&quot;.
         *
         * @return the integer
         */
        public Integer getAppId() {
<span class="fc" id="L155">            return appId;</span>
        }

        /**
         * The context string of the check
         *
         * @return the string
         */
        public String getContext() {
<span class="fc" id="L164">            return context;</span>
        }
    }

    /**
     * The type EnforceAdmins.
     */
    public static class EnforceAdmins {

        @JsonProperty
        private boolean enabled;

        @JsonProperty
        private String url;

        /**
         * Create default EnforceAdmins instance
         */
<span class="fc" id="L182">        public EnforceAdmins() {</span>
<span class="fc" id="L183">        }</span>

        /**
         * Gets url.
         *
         * @return the url
         */
        public String getUrl() {
<span class="nc" id="L191">            return url;</span>
        }

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L200">            return enabled;</span>
        }
    }

    /**
     * The type LockBranch.
     */
    public static class LockBranch {

        @JsonProperty
        private boolean enabled;

        /**
         * Create default LockBranch instance
         */
<span class="fc" id="L215">        public LockBranch() {</span>
<span class="fc" id="L216">        }</span>

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L224">            return enabled;</span>
        }
    }

    /**
     * The type RequiredConversationResolution.
     */
    public static class RequiredConversationResolution {

        @JsonProperty
        private boolean enabled;

        /**
         * Create default RequiredConversationResolution instance
         */
<span class="fc" id="L239">        public RequiredConversationResolution() {</span>
<span class="fc" id="L240">        }</span>

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L248">            return enabled;</span>
        }
    }

    /**
     * The type RequiredLinearHistory.
     */
    public static class RequiredLinearHistory {

        @JsonProperty
        private boolean enabled;

        /**
         * Create default RequiredLinearHistory instance
         */
<span class="fc" id="L263">        public RequiredLinearHistory() {</span>
<span class="fc" id="L264">        }</span>

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L272">            return enabled;</span>
        }
    }

    /**
     * The type RequiredReviews.
     */
    public static class RequiredReviews {

        @JsonProperty
        private boolean dismissStaleReviews;

        @JsonProperty(&quot;dismissal_restrictions&quot;)
        private Restrictions dismissalRestriction;

        @JsonProperty
        private boolean requireCodeOwnerReviews;

        @JsonProperty
        private boolean requireLastPushApproval;

        @JsonProperty(&quot;required_approving_review_count&quot;)
        private int requiredReviewers;

        @JsonProperty
        private String url;

        /**
         * Create default RequiredReviews instance
         */
<span class="fc" id="L302">        public RequiredReviews() {</span>
<span class="fc" id="L303">        }</span>

        /**
         * Gets dismissal restrictions.
         *
         * @return the dismissal restrictions
         */
        public Restrictions getDismissalRestrictions() {
<span class="nc" id="L311">            return dismissalRestriction;</span>
        }

        /**
         * Gets required reviewers.
         *
         * @return the required reviewers
         */
        public int getRequiredReviewers() {
<span class="fc" id="L320">            return requiredReviewers;</span>
        }

        /**
         * Gets url.
         *
         * @return the url
         */
        public String getUrl() {
<span class="nc" id="L329">            return url;</span>
        }

        /**
         * Is dismiss stale reviews boolean.
         *
         * @return the boolean
         */
        public boolean isDismissStaleReviews() {
<span class="fc" id="L338">            return dismissStaleReviews;</span>
        }

        /**
         * Is require code owner reviews boolean.
         *
         * @return the boolean
         */
        public boolean isRequireCodeOwnerReviews() {
<span class="fc" id="L347">            return requireCodeOwnerReviews;</span>
        }

        /**
         * Is require last push approval boolean.
         *
         * @return the boolean
         */
        public boolean isRequireLastPushApproval() {
<span class="fc" id="L356">            return requireLastPushApproval;</span>
        }
    }

    /**
     * The type RequiredStatusChecks.
     */
    public static class RequiredStatusChecks {

        @JsonProperty
        private Collection&lt;Check&gt; checks;

        @JsonProperty
        private Collection&lt;String&gt; contexts;

        @JsonProperty
        private boolean strict;

        @JsonProperty
        private String url;

        /**
         * Create default RequiredStatusChecks instance
         */
<span class="fc" id="L380">        public RequiredStatusChecks() {</span>
<span class="fc" id="L381">        }</span>

        /**
         * Gets checks.
         *
         * @return the checks
         */
        public Collection&lt;Check&gt; getChecks() {
<span class="fc" id="L389">            return Collections.unmodifiableCollection(checks);</span>
        }

        /**
         * Gets contexts.
         *
         * @return the contexts
         */
        public Collection&lt;String&gt; getContexts() {
<span class="fc" id="L398">            return Collections.unmodifiableCollection(contexts);</span>
        }

        /**
         * Gets url.
         *
         * @return the url
         */
        public String getUrl() {
<span class="nc" id="L407">            return url;</span>
        }

        /**
         * Is requires branch up to date boolean.
         *
         * @return the boolean
         */
        public boolean isRequiresBranchUpToDate() {
<span class="fc" id="L416">            return strict;</span>
        }
    }

    /**
     * The type Restrictions.
     */
    public static class Restrictions {

        @JsonProperty
        private Collection&lt;GHTeam&gt; teams;

        private String teamsUrl;

        @JsonProperty
        private String url;

        @JsonProperty
        private Collection&lt;GHUser&gt; users;

        private String usersUrl;

        /**
         * Create default Restrictions instance
         */
<span class="nc" id="L441">        public Restrictions() {</span>
<span class="nc" id="L442">        }</span>

        /**
         * Gets teams.
         *
         * @return the teams
         */
        public Collection&lt;GHTeam&gt; getTeams() {
<span class="nc" id="L450">            return Collections.unmodifiableCollection(teams);</span>
        }

        /**
         * Gets teams url.
         *
         * @return the teams url
         */
        public String getTeamsUrl() {
<span class="nc" id="L459">            return teamsUrl;</span>
        }

        /**
         * Gets url.
         *
         * @return the url
         */
        public String getUrl() {
<span class="nc" id="L468">            return url;</span>
        }

        /**
         * Gets users.
         *
         * @return the users
         */
        public Collection&lt;GHUser&gt; getUsers() {
<span class="nc" id="L477">            return Collections.unmodifiableCollection(users);</span>
        }

        /**
         * Gets users url.
         *
         * @return the users url
         */
        public String getUsersUrl() {
<span class="nc" id="L486">            return usersUrl;</span>
        }
    }

    private static class RequiredSignatures {
        @JsonProperty
        private boolean enabled;

        @JsonProperty
        private String url;

        /**
         * Gets url.
         *
         * @return the url
         */
        public String getUrl() {
<span class="nc" id="L503">            return url;</span>
        }

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="nc" id="L512">            return enabled;</span>
        }
    }

    private static final String REQUIRE_SIGNATURES_URI = &quot;/required_signatures&quot;;

    @JsonProperty
    private AllowDeletions allowDeletions;

    @JsonProperty
    private AllowForcePushes allowForcePushes;

    @JsonProperty
    private AllowForkSyncing allowForkSyncing;

    @JsonProperty
    private BlockCreations blockCreations;

    @JsonProperty
    private EnforceAdmins enforceAdmins;

    @JsonProperty
    private LockBranch lockBranch;

    @JsonProperty
    private RequiredConversationResolution requiredConversationResolution;

    @JsonProperty
    private RequiredLinearHistory requiredLinearHistory;

    @JsonProperty(&quot;required_pull_request_reviews&quot;)
    private RequiredReviews requiredReviews;

    @JsonProperty
    private RequiredStatusChecks requiredStatusChecks;

    @JsonProperty
    private Restrictions restrictions;

    @JsonProperty
    private String url;

    /**
     * Create default GHBranchProtection instance
     */
<span class="fc" id="L557">    public GHBranchProtection() {</span>
<span class="fc" id="L558">    }</span>

    /**
     * Disable signed commits.
     *
     * @throws IOException
     *             the io exception
     */
    public void disableSignedCommits() throws IOException {
<span class="fc" id="L567">        requester().method(&quot;DELETE&quot;).withUrlPath(url + REQUIRE_SIGNATURES_URI).send();</span>
<span class="fc" id="L568">    }</span>

    /**
     * Enabled signed commits.
     *
     * @throws IOException
     *             the io exception
     */
    public void enabledSignedCommits() throws IOException {
<span class="fc" id="L577">        requester().method(&quot;POST&quot;).withUrlPath(url + REQUIRE_SIGNATURES_URI).fetch(RequiredSignatures.class);</span>
<span class="fc" id="L578">    }</span>

    /**
     * Gets allow deletions.
     *
     * @return the enforce admins
     */
    public AllowDeletions getAllowDeletions() {
<span class="fc" id="L586">        return allowDeletions;</span>
    }

    /**
     * Gets allow force pushes.
     *
     * @return the enforce admins
     */
    public AllowForcePushes getAllowForcePushes() {
<span class="fc" id="L595">        return allowForcePushes;</span>
    }

    /**
     * Gets allow fork syncing.
     *
     * @return the enforce admins
     */
    public AllowForkSyncing getAllowForkSyncing() {
<span class="fc" id="L604">        return allowForkSyncing;</span>
    }

    /**
     * Gets block creations.
     *
     * @return the enforce admins
     */
    public BlockCreations getBlockCreations() {
<span class="fc" id="L613">        return blockCreations;</span>
    }

    /**
     * Gets enforce admins.
     *
     * @return the enforce admins
     */
    public EnforceAdmins getEnforceAdmins() {
<span class="fc" id="L622">        return enforceAdmins;</span>
    }

    /**
     * Gets lock branch.
     *
     * @return the enforce admins
     */
    public LockBranch getLockBranch() {
<span class="fc" id="L631">        return lockBranch;</span>
    }

    /**
     * Gets required conversation resolution.
     *
     * @return the enforce admins
     */
    public RequiredConversationResolution getRequiredConversationResolution() {
<span class="fc" id="L640">        return requiredConversationResolution;</span>
    }

    /**
     * Gets required linear history.
     *
     * @return the enforce admins
     */
    public RequiredLinearHistory getRequiredLinearHistory() {
<span class="fc" id="L649">        return requiredLinearHistory;</span>
    }

    /**
     * Gets required reviews.
     *
     * @return the required reviews
     */
    public RequiredReviews getRequiredReviews() {
<span class="fc" id="L658">        return requiredReviews;</span>
    }

    /**
     * Gets required signatures.
     *
     * @return the required signatures
     * @throws IOException
     *             the io exception
     */
    public boolean getRequiredSignatures() throws IOException {
<span class="fc" id="L669">        return requester().withUrlPath(url + REQUIRE_SIGNATURES_URI).fetch(RequiredSignatures.class).enabled;</span>
    }

    /**
     * Gets required status checks.
     *
     * @return the required status checks
     */
    public RequiredStatusChecks getRequiredStatusChecks() {
<span class="fc" id="L678">        return requiredStatusChecks;</span>
    }

    /**
     * Gets restrictions.
     *
     * @return the restrictions
     */
    public Restrictions getRestrictions() {
<span class="nc" id="L687">        return restrictions;</span>
    }

    /**
     * Gets url.
     *
     * @return the url
     */
    public String getUrl() {
<span class="nc" id="L696">        return url;</span>
    }

    private Requester requester() {
<span class="fc" id="L700">        return root().createRequest();</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.13.202504020838</span></div></body></html>