[
  {
    "url": "https://api.github.com/repos/hub4j/github-api/issues/comments/639995601",
    "html_url": "https://github.com/hub4j/github-api/issues/836#issuecomment-639995601",
    "issue_url": "https://api.github.com/repos/hub4j/github-api/issues/836",
    "id": 639995601,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzOTk5NTYwMQ==",
    "user": {
      "login": "bitwiseman",
      "id": 1958953,
      "node_id": "MDQ6VXNlcjE5NTg5NTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1958953?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitwiseman",
      "html_url": "https://github.com/bitwiseman",
      "followers_url": "https://api.github.com/users/bitwiseman/followers",
      "following_url": "https://api.github.com/users/bitwiseman/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitwiseman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitwiseman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitwiseman/subscriptions",
      "organizations_url": "https://api.github.com/users/bitwiseman/orgs",
      "repos_url": "https://api.github.com/users/bitwiseman/repos",
      "events_url": "https://api.github.com/users/bitwiseman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitwiseman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-06T06:41:11Z",
    "updated_at": "2020-06-06T06:44:05Z",
    "author_association": "COLLABORATOR",
    "body": "How does your sample code above behave differently for users with Owner vs Triage role? \r\nI'm unclear what behavior change you would like to see in the library?\r\nDoes the GitHub API provide the behavior you describe?\r\n\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hub4j/github-api/issues/comments/640005893",
    "html_url": "https://github.com/hub4j/github-api/issues/836#issuecomment-640005893",
    "issue_url": "https://api.github.com/repos/hub4j/github-api/issues/836",
    "id": 640005893,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDAwNTg5Mw==",
    "user": {
      "login": "blacelle",
      "id": 2117911,
      "node_id": "MDQ6VXNlcjIxMTc5MTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2117911?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/blacelle",
      "html_url": "https://github.com/blacelle",
      "followers_url": "https://api.github.com/users/blacelle/followers",
      "following_url": "https://api.github.com/users/blacelle/following{/other_user}",
      "gists_url": "https://api.github.com/users/blacelle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/blacelle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/blacelle/subscriptions",
      "organizations_url": "https://api.github.com/users/blacelle/orgs",
      "repos_url": "https://api.github.com/users/blacelle/repos",
      "events_url": "https://api.github.com/users/blacelle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/blacelle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-06T07:43:40Z",
    "updated_at": "2020-06-06T07:43:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "My previous procedure was like:\r\n```\r\nGHIssueBuilder labelling = issueBuilder.body(fullContent)\r\n\t.label(issueLabel)\r\nGHIssue issue = building.create();\r\n```\r\n\r\nIf Owner, the issue is open with proper labels: OK\r\nIf triage, the issue is open without any labels: KO\r\n\r\nI then turned into:\r\n\r\nMy new procedure is something like:\r\n```\r\nGHIssueBuilder labelling = issueBuilder.body(fullContent)\r\n         // I keep label in the builder is it is the standard use of the library\r\n\t.label(issueLabel)\r\nGHIssue issue = building.create();\r\n\r\n// Add labels after issue creation, in case the user has Triage role\r\nlabels.forEach(t -> {\r\n\ttry {\r\n\t     issue.addLabels(t);\r\n        } catch (IOException e) {\r\n\t     throw new UncheckedIOException(e);\r\n          }\r\n});\r\n```\r\n\r\nI then have a clear workaround in my code around the library.\r\n\r\nI suggest the library either:\r\n\r\n1. Check the userRole and add labels if the user have role Triage (I don't know if this is feasible, low-cost)\r\n2. Add labels as an implicit call to GHIssue.addLabel() right after Issue creation, so that one would not have to do it by himself (this solution is weak as it would means applying labels twice, while in 99% cases, the second label application is useless).",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hub4j/github-api/issues/comments/640104140",
    "html_url": "https://github.com/hub4j/github-api/issues/836#issuecomment-640104140",
    "issue_url": "https://api.github.com/repos/hub4j/github-api/issues/836",
    "id": 640104140,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDEwNDE0MA==",
    "user": {
      "login": "bitwiseman",
      "id": 1958953,
      "node_id": "MDQ6VXNlcjE5NTg5NTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1958953?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitwiseman",
      "html_url": "https://github.com/bitwiseman",
      "followers_url": "https://api.github.com/users/bitwiseman/followers",
      "following_url": "https://api.github.com/users/bitwiseman/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitwiseman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitwiseman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitwiseman/subscriptions",
      "organizations_url": "https://api.github.com/users/bitwiseman/orgs",
      "repos_url": "https://api.github.com/users/bitwiseman/repos",
      "events_url": "https://api.github.com/users/bitwiseman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitwiseman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-06T19:00:32Z",
    "updated_at": "2020-06-06T19:00:32Z",
    "author_association": "COLLABORATOR",
    "body": "It looks like this is by-design behavior in the GitHub API for \"[Create an Issue](https://developer.github.com/v3/issues/#create-an-issue)\".  If you look at the \"parameters\" it says:\r\n\r\n> Labels to associate with this issue. NOTE: Only users with push access can set labels for new issues. Labels are silently dropped otherwise.\r\n\r\nThere is no indication from the server that anything has gone wrong. \r\n\r\nThis same limitation is supposed to be true for \"[Update an Issue](https://developer.github.com/v3/issues/#update-an-issue)\".  So, either the create is blocking the adding labels when it shouldn't or the update is allowing adding labels when it shouldn't.  Either way, in that larger sense, this is something that should be reported to GitHub and fixed on the server side. \r\n\r\nUntil that happens, you could add a work around.  Checking the user role before creation (option 1) taxes everyone, so that is not good.  But option 2 seems possible.  The `create()` method could check the issue labels after creation and if they are empty manually add them.  You shouldn't need to do the `forEach()` because the is a `issue.addLabels(listOfLabelNames)`.\r\n\r\nThe problem is that then this library will have significantly different behavior from the standard API - if someone doesn't have sufficient permissions to add labels they will get an exception instead of silent continuing. You'd need to make this very clear in the javadoc and have plenty of tests for it. \r\n\r\nEven then, if GitHub determines that the `update` shouldn't be able to add issues either then this workaround will break again.\r\n\r\nI'd be happy to take a PR on this, but I'd be cautious about depending on this behavior at all until you've talked to GitHub to make sure current create and update behaviors are correct. ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hub4j/github-api/issues/comments/640244470",
    "html_url": "https://github.com/hub4j/github-api/issues/836#issuecomment-640244470",
    "issue_url": "https://api.github.com/repos/hub4j/github-api/issues/836",
    "id": 640244470,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDI0NDQ3MA==",
    "user": {
      "login": "blacelle",
      "id": 2117911,
      "node_id": "MDQ6VXNlcjIxMTc5MTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2117911?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/blacelle",
      "html_url": "https://github.com/blacelle",
      "followers_url": "https://api.github.com/users/blacelle/followers",
      "following_url": "https://api.github.com/users/blacelle/following{/other_user}",
      "gists_url": "https://api.github.com/users/blacelle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/blacelle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/blacelle/subscriptions",
      "organizations_url": "https://api.github.com/users/blacelle/orgs",
      "repos_url": "https://api.github.com/users/blacelle/repos",
      "events_url": "https://api.github.com/users/blacelle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/blacelle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-07T16:31:06Z",
    "updated_at": "2020-06-07T16:31:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "I sent Github support some details and direct link to this ticket. They would provide some valuable insights. Fact is Triage role is quite new.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hub4j/github-api/issues/comments/760981100",
    "html_url": "https://github.com/hub4j/github-api/issues/836#issuecomment-760981100",
    "issue_url": "https://api.github.com/repos/hub4j/github-api/issues/836",
    "id": 760981100,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MDk4MTEwMA==",
    "user": {
      "login": "Atinux",
      "id": 904724,
      "node_id": "MDQ6VXNlcjkwNDcyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/904724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Atinux",
      "html_url": "https://github.com/Atinux",
      "followers_url": "https://api.github.com/users/Atinux/followers",
      "following_url": "https://api.github.com/users/Atinux/following{/other_user}",
      "gists_url": "https://api.github.com/users/Atinux/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Atinux/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Atinux/subscriptions",
      "organizations_url": "https://api.github.com/users/Atinux/orgs",
      "repos_url": "https://api.github.com/users/Atinux/repos",
      "events_url": "https://api.github.com/users/Atinux/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Atinux/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-15T14:42:11Z",
    "updated_at": "2021-01-15T14:42:11Z",
    "author_association": "NONE",
    "body": "I confirm that when the collaborator has the triage role, he can add labels with GitHub.com but not from the API (we use a GitHub application for it). Any news regarding this issue?",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hub4j/github-api/issues/comments/761063095",
    "html_url": "https://github.com/hub4j/github-api/issues/836#issuecomment-761063095",
    "issue_url": "https://api.github.com/repos/hub4j/github-api/issues/836",
    "id": 761063095,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MTA2MzA5NQ==",
    "user": {
      "login": "bitwiseman",
      "id": 1958953,
      "node_id": "MDQ6VXNlcjE5NTg5NTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1958953?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitwiseman",
      "html_url": "https://github.com/bitwiseman",
      "followers_url": "https://api.github.com/users/bitwiseman/followers",
      "following_url": "https://api.github.com/users/bitwiseman/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitwiseman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitwiseman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitwiseman/subscriptions",
      "organizations_url": "https://api.github.com/users/bitwiseman/orgs",
      "repos_url": "https://api.github.com/users/bitwiseman/repos",
      "events_url": "https://api.github.com/users/bitwiseman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitwiseman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-15T17:04:19Z",
    "updated_at": "2021-01-15T17:04:19Z",
    "author_association": "COLLABORATOR",
    "body": "@Atinux \r\n?  Until GitHub fixes the API, this bug is blocked.  We do have visibility into when GitHub will fix issues.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hub4j/github-api/issues/comments/884281225",
    "html_url": "https://github.com/hub4j/github-api/issues/836#issuecomment-884281225",
    "issue_url": "https://api.github.com/repos/hub4j/github-api/issues/836",
    "id": 884281225,
    "node_id": "IC_kwDOAAlq-s40tQ-J",
    "user": {
      "login": "ahoglund",
      "id": 3407303,
      "node_id": "MDQ6VXNlcjM0MDczMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3407303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ahoglund",
      "html_url": "https://github.com/ahoglund",
      "followers_url": "https://api.github.com/users/ahoglund/followers",
      "following_url": "https://api.github.com/users/ahoglund/following{/other_user}",
      "gists_url": "https://api.github.com/users/ahoglund/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ahoglund/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ahoglund/subscriptions",
      "organizations_url": "https://api.github.com/users/ahoglund/orgs",
      "repos_url": "https://api.github.com/users/ahoglund/repos",
      "events_url": "https://api.github.com/users/ahoglund/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ahoglund/received_events",
      "type": "User",
      "site_admin": true
    },
    "created_at": "2021-07-21T15:28:45Z",
    "updated_at": "2021-07-21T15:28:45Z",
    "author_association": "NONE",
    "body": "👋🏼 from the GitHub API Team.  Just to confirm, is the API endpoint in question the one getting called from here?\r\n\r\nhttps://github.com/hub4j/github-api/blob/9978678f276619e2bf81e6542a596e74ce1dc0cc/src/main/java/org/kohsuke/github/GHIssue.java#L374-L380\r\n\r\nIf so that I think that would correspond to the https://docs.github.com/en/rest/reference/issues#add-labels-to-an-issue endpoint. Just wanted to confirm before we look further into this.\r\n\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hub4j/github-api/issues/comments/884290027",
    "html_url": "https://github.com/hub4j/github-api/issues/836#issuecomment-884290027",
    "issue_url": "https://api.github.com/repos/hub4j/github-api/issues/836",
    "id": 884290027,
    "node_id": "IC_kwDOAAlq-s40tTHr",
    "user": {
      "login": "blacelle",
      "id": 2117911,
      "node_id": "MDQ6VXNlcjIxMTc5MTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2117911?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/blacelle",
      "html_url": "https://github.com/blacelle",
      "followers_url": "https://api.github.com/users/blacelle/followers",
      "following_url": "https://api.github.com/users/blacelle/following{/other_user}",
      "gists_url": "https://api.github.com/users/blacelle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/blacelle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/blacelle/subscriptions",
      "organizations_url": "https://api.github.com/users/blacelle/orgs",
      "repos_url": "https://api.github.com/users/blacelle/repos",
      "events_url": "https://api.github.com/users/blacelle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/blacelle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-21T15:40:37Z",
    "updated_at": "2021-07-21T15:40:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ahoglund You pinpointed the API used for the workaround, but the faulty API is the API used to create a ticket: labels are not properly applied during creation, hence the workaround is to apply labels once the ticket created.",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hub4j/github-api/issues/comments/884295028",
    "html_url": "https://github.com/hub4j/github-api/issues/836#issuecomment-884295028",
    "issue_url": "https://api.github.com/repos/hub4j/github-api/issues/836",
    "id": 884295028,
    "node_id": "IC_kwDOAAlq-s40tUV0",
    "user": {
      "login": "gsmet",
      "id": 1279749,
      "node_id": "MDQ6VXNlcjEyNzk3NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1279749?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsmet",
      "html_url": "https://github.com/gsmet",
      "followers_url": "https://api.github.com/users/gsmet/followers",
      "following_url": "https://api.github.com/users/gsmet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsmet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsmet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsmet/subscriptions",
      "organizations_url": "https://api.github.com/users/gsmet/orgs",
      "repos_url": "https://api.github.com/users/gsmet/repos",
      "events_url": "https://api.github.com/users/gsmet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsmet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-21T15:47:43Z",
    "updated_at": "2021-07-21T15:47:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yeah, the problem is here: https://docs.github.com/en/rest/reference/issues#create-an-issue .\r\n\r\nThe doc says:\r\n\r\n> Labels to associate with this issue. _NOTE: Only users with push access can set labels for new issues. Labels are silently dropped otherwise._\r\n\r\nSo it's properly documented but this limitation should be lifted to allow users with the triage permission to do the same.",
    "performed_via_github_app": null
  }
]