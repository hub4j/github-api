<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang=""><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>GHGist.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">GitHub API for Java</a> &gt; <a href="index.source.html" class="el_package">org.kohsuke.github</a> &gt; <span class="el_source">GHGist.java</span></div><h1>GHGist.java</h1><pre class="source lang-java linenums">package org.kohsuke.github;

import com.fasterxml.jackson.annotation.JsonCreator;
import com.fasterxml.jackson.annotation.JsonProperty;
import edu.umd.cs.findbugs.annotations.SuppressFBWarnings;
import org.apache.commons.lang3.StringUtils;

import java.io.IOException;
import java.net.URL;
import java.util.Collections;
import java.util.Map;
import java.util.Map.Entry;

// TODO: Auto-generated Javadoc
/**
 * Gist.
 *
 * @author Kohsuke Kawaguchi
 * @see GHUser#listGists() GHUser#listGists()
 * @see GitHub#getGist(String) GitHub#getGist(String)
 * @see GitHub#createGist() GitHub#createGist()
 * @see &lt;a href=&quot;https://developer.github.com/v3/gists/&quot;&gt;documentation&lt;/a&gt;
 */
public class GHGist extends GHObject {

    private int comments;

    private String commentsUrl;

    private String description;

    private final Map&lt;String, GHGistFile&gt; files;

    private String forksUrl, commitsUrl, id, gitPullUrl, gitPushUrl, htmlUrl;

    @JsonProperty(&quot;public&quot;)
    private boolean isPublic;

    /** The owner. */
    final GHUser owner;

    @JsonCreator
<span class="fc" id="L43">    private GHGist(@JsonProperty(&quot;owner&quot;) GHUser owner, @JsonProperty(&quot;files&quot;) Map&lt;String, GHGistFile&gt; files) {</span>
<span class="fc bfc" id="L44" title="All 2 branches covered.">        for (Entry&lt;String, GHGistFile&gt; e : files.entrySet()) {</span>
<span class="fc" id="L45">            e.getValue().fileName = e.getKey();</span>
<span class="fc" id="L46">        }</span>
<span class="fc" id="L47">        this.files = Collections.unmodifiableMap(files);</span>
<span class="fc" id="L48">        this.owner = owner.root().getUser(owner);</span>
<span class="fc" id="L49">    }</span>

    /**
     * Deletes this gist.
     *
     * @throws IOException
     *             the io exception
     */
    public void delete() throws IOException {
<span class="fc" id="L58">        root().createRequest().method(&quot;DELETE&quot;).withUrlPath(&quot;/gists/&quot; + id).send();</span>
<span class="fc" id="L59">    }</span>

    /**
     * Equals.
     *
     * @param o
     *            the o
     * @return true, if successful
     */
    @Override
    public boolean equals(Object o) {
<span class="pc bpc" id="L70" title="1 of 2 branches missed.">        if (this == o)</span>
<span class="nc" id="L71">            return true;</span>
<span class="pc bpc" id="L72" title="2 of 4 branches missed.">        if (o == null || getClass() != o.getClass())</span>
<span class="nc" id="L73">            return false;</span>
<span class="fc" id="L74">        GHGist ghGist = (GHGist) o;</span>
<span class="fc" id="L75">        return id.equals(ghGist.id);</span>

    }

    /**
     * Forks this gist into your own.
     *
     * @return the gh gist
     * @throws IOException
     *             the io exception
     */
    public GHGist fork() throws IOException {
<span class="fc" id="L87">        return root().createRequest().method(&quot;POST&quot;).withUrlPath(getApiTailUrl(&quot;forks&quot;)).fetch(GHGist.class);</span>
    }

    /**
     * Gets comment count.
     *
     * @return the comment count
     */
    public int getCommentCount() {
<span class="fc" id="L96">        return comments;</span>
    }

    /**
     * Gets comments url.
     *
     * @return API URL of listing comments.
     */
    public String getCommentsUrl() {
<span class="fc" id="L105">        return commentsUrl;</span>
    }

    /**
     * Gets commits url.
     *
     * @return the commits url
     */
    public String getCommitsUrl() {
<span class="fc" id="L114">        return commitsUrl;</span>
    }

    /**
     * Gets description.
     *
     * @return the description
     */
    public String getDescription() {
<span class="fc" id="L123">        return description;</span>
    }

    /**
     * Gets file.
     *
     * @param name
     *            the name
     * @return the file
     */
    public GHGistFile getFile(String name) {
<span class="fc" id="L134">        return files.get(name);</span>
    }

    /**
     * Gets files.
     *
     * @return the files
     */
    public Map&lt;String, GHGistFile&gt; getFiles() {
<span class="fc" id="L143">        return Collections.unmodifiableMap(files);</span>
    }

    /**
     * Gets forks url.
     *
     * @return the forks url
     */
    public String getForksUrl() {
<span class="fc" id="L152">        return forksUrl;</span>
    }

    /**
     * Gets the id for this Gist. Unlike most other GitHub objects, the id for Gists can be non-numeric, such as
     * &quot;aa5a315d61ae9438b18d&quot;. This should be used instead of {@link #getId()}.
     *
     * @return id of this Gist
     */
    public String getGistId() {
<span class="fc" id="L162">        return this.id;</span>
    }

    /**
     * Gets git pull url.
     *
     * @return URL like https://gist.github.com/gists/12345.git
     */
    public String getGitPullUrl() {
<span class="fc" id="L171">        return gitPullUrl;</span>
    }

    /**
     * Gets git push url.
     *
     * @return the git push url
     */
    public String getGitPushUrl() {
<span class="fc" id="L180">        return gitPushUrl;</span>
    }

    /**
     * Get the html url.
     *
     * @return the github html url
     */
    public URL getHtmlUrl() {
<span class="fc" id="L189">        return GitHubClient.parseURL(htmlUrl);</span>
    }

    /**
     * Unlike most other GitHub objects, the id for Gists can be non-numeric, such as &quot;aa5a315d61ae9438b18d&quot;. If the id
     * is numeric, this method will get it. If id is not numeric, this will throw a runtime
     * {@link NumberFormatException}.
     *
     * @return id of the Gist.
     * @deprecated Use {@link #getGistId()} instead.
     */
    @Deprecated
    @Override
    public long getId() {
<span class="fc" id="L203">        return Long.parseLong(getGistId());</span>
    }

    /**
     * Gets owner.
     *
     * @return User that owns this Gist.
     */
    @SuppressFBWarnings(value = { &quot;EI_EXPOSE_REP&quot; }, justification = &quot;Expected behavior&quot;)
    public GHUser getOwner() {
<span class="fc" id="L213">        return owner;</span>
    }

    /**
     * Hash code.
     *
     * @return the int
     */
    @Override
    public int hashCode() {
<span class="nc" id="L223">        return id.hashCode();</span>
    }

    /**
     * Is public boolean.
     *
     * @return the boolean
     */
    public boolean isPublic() {
<span class="fc" id="L232">        return isPublic;</span>
    }

    /**
     * Is starred boolean.
     *
     * @return the boolean
     * @throws IOException
     *             the io exception
     */
    public boolean isStarred() throws IOException {
<span class="fc bfc" id="L243" title="All 2 branches covered.">        return root().createRequest().withUrlPath(getApiTailUrl(&quot;star&quot;)).fetchHttpStatusCode() / 100 == 2;</span>
    }

    /**
     * List forks paged iterable.
     *
     * @return the paged iterable
     */
    public PagedIterable&lt;GHGist&gt; listForks() {
<span class="fc" id="L252">        return root().createRequest().withUrlPath(getApiTailUrl(&quot;forks&quot;)).toIterable(GHGist[].class, null);</span>
    }

    /**
     * Star.
     *
     * @throws IOException
     *             the io exception
     */
    public void star() throws IOException {
<span class="fc" id="L262">        root().createRequest().method(&quot;PUT&quot;).withUrlPath(getApiTailUrl(&quot;star&quot;)).send();</span>
<span class="fc" id="L263">    }</span>

    /**
     * Unstar.
     *
     * @throws IOException
     *             the io exception
     */
    public void unstar() throws IOException {
<span class="fc" id="L272">        root().createRequest().method(&quot;DELETE&quot;).withUrlPath(getApiTailUrl(&quot;star&quot;)).send();</span>
<span class="fc" id="L273">    }</span>

    /**
     * Updates this gist via a builder.
     *
     * @return the gh gist updater
     */
    public GHGistUpdater update() {
<span class="fc" id="L281">        return new GHGistUpdater(this);</span>
    }

    /**
     * Gets the api tail url.
     *
     * @param tail
     *            the tail
     * @return the api tail url
     */
    String getApiTailUrl(String tail) {
<span class="fc" id="L292">        String result = &quot;/gists/&quot; + id;</span>
<span class="fc bfc" id="L293" title="All 2 branches covered.">        if (!StringUtils.isBlank(tail)) {</span>
<span class="fc" id="L294">            result += StringUtils.prependIfMissing(tail, &quot;/&quot;);</span>
        }
<span class="fc" id="L296">        return result;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.13.202504020838</span></div></body></html>