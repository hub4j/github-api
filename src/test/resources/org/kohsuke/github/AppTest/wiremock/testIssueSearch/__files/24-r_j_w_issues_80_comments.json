[
  {
    "url": "https://api.github.com/repos/jenkinsci/workflow-basic-steps-plugin/issues/comments/456988385",
    "html_url": "https://github.com/jenkinsci/workflow-basic-steps-plugin/pull/80#issuecomment-456988385",
    "issue_url": "https://api.github.com/repos/jenkinsci/workflow-basic-steps-plugin/issues/80",
    "id": 456988385,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Njk4ODM4NQ==",
    "user": {
      "login": "bitwiseman",
      "id": 1958953,
      "node_id": "MDQ6VXNlcjE5NTg5NTM=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1958953?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitwiseman",
      "html_url": "https://github.com/bitwiseman",
      "followers_url": "https://api.github.com/users/bitwiseman/followers",
      "following_url": "https://api.github.com/users/bitwiseman/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitwiseman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitwiseman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitwiseman/subscriptions",
      "organizations_url": "https://api.github.com/users/bitwiseman/orgs",
      "repos_url": "https://api.github.com/users/bitwiseman/repos",
      "events_url": "https://api.github.com/users/bitwiseman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitwiseman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-23T22:17:59Z",
    "updated_at": "2019-01-23T23:54:01Z",
    "author_association": "MEMBER",
    "body": "@dwnusbaum \r\nAs to your general comment, are you pointing to a more general issue that I should file and come back to?  Or are you saying I need to change something in this PR? \r\n...\r\n\r\nAh, wait. \r\nI'm looking at the issue description ( https://issues.jenkins-ci.org/browse/JENKINS-55612) again. What the user wants differs from what they end up asking for. \r\n\r\n1. They want echo to still display a meaningful label even when the message is long - [see this image](https://issues.jenkins-ci.org/secure/attachment/45731/image-2019-01-16-07-21-46-096.png)\r\n2. If there isn't some good way to do this, they'd like to add a `label` field they can set manually.  \r\n\r\nBack to the drawing board for a minute."
  },
  {
    "url": "https://api.github.com/repos/jenkinsci/workflow-basic-steps-plugin/issues/comments/457017054",
    "html_url": "https://github.com/jenkinsci/workflow-basic-steps-plugin/pull/80#issuecomment-457017054",
    "issue_url": "https://api.github.com/repos/jenkinsci/workflow-basic-steps-plugin/issues/80",
    "id": 457017054,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NzAxNzA1NA==",
    "user": {
      "login": "bitwiseman",
      "id": 1958953,
      "node_id": "MDQ6VXNlcjE5NTg5NTM=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1958953?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitwiseman",
      "html_url": "https://github.com/bitwiseman",
      "followers_url": "https://api.github.com/users/bitwiseman/followers",
      "following_url": "https://api.github.com/users/bitwiseman/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitwiseman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitwiseman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitwiseman/subscriptions",
      "organizations_url": "https://api.github.com/users/bitwiseman/orgs",
      "repos_url": "https://api.github.com/users/bitwiseman/repos",
      "events_url": "https://api.github.com/users/bitwiseman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitwiseman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-24T00:14:53Z",
    "updated_at": "2019-01-24T00:14:53Z",
    "author_association": "MEMBER",
    "body": "@dwnusbaum \r\nFor that other case I prefer LabelAction.  For this one, I'm not sure. \r\n\r\nI [responded](https://github.com/jenkinsci/workflow-durable-task-step-plugin/pull/93#issuecomment-457007010)  on the other PR, but to summarize: `LabelAction` is an additional structure and lets the UI decide how to display a step.  The string from  `StepDescriptor#argumentsToString` does not give the UI that option.  \r\n\r\nThat aside, as I noted above, the user's core problem is that Blue Ocean only shows the message for short `echo` messages (it shows the label \"Print Message\" after the message text).  For longer/multiline messages it ignores the message text and just shows \"Print Message\". \r\n\r\nI think adding a label is still the right way to go.  \r\n"
  },
  {
    "url": "https://api.github.com/repos/jenkinsci/workflow-basic-steps-plugin/issues/comments/457039034",
    "html_url": "https://github.com/jenkinsci/workflow-basic-steps-plugin/pull/80#issuecomment-457039034",
    "issue_url": "https://api.github.com/repos/jenkinsci/workflow-basic-steps-plugin/issues/80",
    "id": 457039034,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NzAzOTAzNA==",
    "user": {
      "login": "bitwiseman",
      "id": 1958953,
      "node_id": "MDQ6VXNlcjE5NTg5NTM=",
      "avatar_url": "https://avatars3.githubusercontent.com/u/1958953?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitwiseman",
      "html_url": "https://github.com/bitwiseman",
      "followers_url": "https://api.github.com/users/bitwiseman/followers",
      "following_url": "https://api.github.com/users/bitwiseman/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitwiseman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitwiseman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitwiseman/subscriptions",
      "organizations_url": "https://api.github.com/users/bitwiseman/orgs",
      "repos_url": "https://api.github.com/users/bitwiseman/repos",
      "events_url": "https://api.github.com/users/bitwiseman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitwiseman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-24T02:06:12Z",
    "updated_at": "2019-01-24T02:06:12Z",
    "author_association": "MEMBER",
    "body": "@dwnusbaum  I've updated this PR with a version that truncate the argument string to the first line of the message but also adds the label field. I haven't run this up in a local blue ocean yet to verify the behavior."
  },
  {
    "url": "https://api.github.com/repos/jenkinsci/workflow-basic-steps-plugin/issues/comments/457211892",
    "html_url": "https://github.com/jenkinsci/workflow-basic-steps-plugin/pull/80#issuecomment-457211892",
    "issue_url": "https://api.github.com/repos/jenkinsci/workflow-basic-steps-plugin/issues/80",
    "id": 457211892,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NzIxMTg5Mg==",
    "user": {
      "login": "jglick",
      "id": 154109,
      "node_id": "MDQ6VXNlcjE1NDEwOQ==",
      "avatar_url": "https://avatars1.githubusercontent.com/u/154109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jglick",
      "html_url": "https://github.com/jglick",
      "followers_url": "https://api.github.com/users/jglick/followers",
      "following_url": "https://api.github.com/users/jglick/following{/other_user}",
      "gists_url": "https://api.github.com/users/jglick/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jglick/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jglick/subscriptions",
      "organizations_url": "https://api.github.com/users/jglick/orgs",
      "repos_url": "https://api.github.com/users/jglick/repos",
      "events_url": "https://api.github.com/users/jglick/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jglick/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-24T14:17:03Z",
    "updated_at": "2019-01-24T14:17:03Z",
    "author_association": "MEMBER",
    "body": "This PR exemplifies the reason I thought JENKINS-55410 was a bad idea to begin with—it just leads to endless creeping requests to add `label` to more and more steps, ad-hoc. I still feel that it would be a better design to use `stage` for the purpose for which it was designed¹: associating a human-readable label with a block of script. If some UI like Blue Ocean does not currently honor nested `stage`s well, fix that UI rather than forcing scripts to work around it. IMO.\r\n\r\nAnd what really is the use case here?\r\n\r\n> if the message for echo step is too long, it solely prints **Print Message** in pipeline view\r\n\r\nThis behavior is not fixed in stone. It is just the current design of `ArgumentsAction[Impl]` that long arguments are replaced by `OVERSIZE_VALUE` and the original text completely lost, rather than simply being truncated after newlines, too many characters, etc. so that you would see something like\r\n\r\n> **PhpStorm inspection results: …**\r\n\r\nwithout needing to change your script. I actually argued for such a behavior during the design, but it was deferred: https://github.com/jenkinsci/workflow-api-plugin/pull/26#discussion_r114809477\r\n\r\n----\r\n¹ Actually my original choice of step name was `label`, leaving the original behavior of `stage` untouched and deprecating it, but @kohsuke overrode me on that."
  }
]