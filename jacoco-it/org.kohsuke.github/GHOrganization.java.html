<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>GHOrganization.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">GitHub API for Java</a> &gt; <a href="index.source.html" class="el_package">org.kohsuke.github</a> &gt; <span class="el_source">GHOrganization.java</span></div><h1>GHOrganization.java</h1><pre class="source lang-java linenums">package org.kohsuke.github;

import java.io.IOException;
import java.net.URL;
import java.util.*;

import static org.kohsuke.github.internal.Previews.INERTIA;

// TODO: Auto-generated Javadoc

/**
 * The type GHOrganization.
 *
 * @author Kohsuke Kawaguchi
 */
<span class="fc" id="L16">public class GHOrganization extends GHPerson {</span>

    private boolean has_organization_projects;

    /**
     * Creates a new repository.
     *
     * @param name
     *            the name
     * @param description
     *            the description
     * @param homepage
     *            the homepage
     * @param team
     *            the team
     * @param isPublic
     *            the is public
     * @return Newly created repository.
     * @throws IOException
     *             the io exception
     * @deprecated Use {@link #createRepository(String)} that uses a builder pattern to let you control every aspect.
     */
    @Deprecated
    public GHRepository createRepository(String name,
            String description,
            String homepage,
            String team,
            boolean isPublic) throws IOException {
<span class="nc" id="L44">        GHTeam t = getTeams().get(team);</span>
<span class="nc bnc" id="L45" title="All 2 branches missed.">        if (t == null)</span>
<span class="nc" id="L46">            throw new IllegalArgumentException(&quot;No such team: &quot; + team);</span>
<span class="nc" id="L47">        return createRepository(name, description, homepage, t, isPublic);</span>
    }

    /**
     * Create repository gh repository.
     *
     * @param name
     *            the name
     * @param description
     *            the description
     * @param homepage
     *            the homepage
     * @param team
     *            the team
     * @param isPublic
     *            the is public
     * @return the gh repository
     * @throws IOException
     *             the io exception
     * @deprecated Use {@link #createRepository(String)} that uses a builder pattern to let you control every aspect.
     */
    @Deprecated
    public GHRepository createRepository(String name,
            String description,
            String homepage,
            GHTeam team,
            boolean isPublic) throws IOException {
<span class="nc bnc" id="L74" title="All 2 branches missed.">        if (team == null)</span>
<span class="nc" id="L75">            throw new IllegalArgumentException(&quot;Invalid team&quot;);</span>
<span class="nc" id="L76">        return createRepository(name).description(description)</span>
<span class="nc bnc" id="L77" title="All 2 branches missed.">                .homepage(homepage)</span>
<span class="nc" id="L78">                .private_(!isPublic)</span>
<span class="nc" id="L79">                .team(team)</span>
<span class="nc" id="L80">                .create();</span>
    }

    /**
     * Starts a builder that creates a new repository.
     * &lt;p&gt;
     * You use the returned builder to set various properties, then call {@link GHCreateRepositoryBuilder#create()} to
     * finally create a repository.
     *
     * @param name
     *            the name
     * @return the gh create repository builder
     */
    public GHCreateRepositoryBuilder createRepository(String name) {
<span class="fc" id="L94">        return new GHCreateRepositoryBuilder(name, root(), &quot;/orgs/&quot; + login + &quot;/repos&quot;);</span>
    }

    /**
     * Teams by their names.
     *
     * @return the teams
     * @throws IOException
     *             the io exception
     */
    public Map&lt;String, GHTeam&gt; getTeams() throws IOException {
<span class="fc" id="L105">        Map&lt;String, GHTeam&gt; r = new TreeMap&lt;String, GHTeam&gt;();</span>
<span class="fc bfc" id="L106" title="All 2 branches covered.">        for (GHTeam t : listTeams()) {</span>
<span class="fc" id="L107">            r.put(t.getName(), t);</span>
<span class="fc" id="L108">        }</span>
<span class="fc" id="L109">        return r;</span>
    }

    /**
     * List up all the teams.
     *
     * @return the paged iterable
     * @throws IOException
     *             the io exception
     */
    public PagedIterable&lt;GHTeam&gt; listTeams() throws IOException {
<span class="fc" id="L120">        return root().createRequest()</span>
<span class="fc" id="L121">                .withUrlPath(String.format(&quot;/orgs/%s/teams&quot;, login))</span>
<span class="fc" id="L122">                .toIterable(GHTeam[].class, item -&gt; item.wrapUp(this));</span>
    }

    /**
     * Gets a single team by ID.
     *
     * @param teamId
     *            id of the team that we want to query for
     * @return the team
     * @throws IOException
     *             the io exception
     * @deprecated Use {@link GHOrganization#getTeam(long)}
     */
    @Deprecated
    public GHTeam getTeam(int teamId) throws IOException {
<span class="nc" id="L137">        return getTeam((long) teamId);</span>
    }

    /**
     * Gets a single team by ID.
     *
     * @param teamId
     *            id of the team that we want to query for
     * @return the team
     * @throws IOException
     *             the io exception
     * @see &lt;a href= &quot;https://developer.github.com/v3/teams/#get-team-by-name&quot;&gt;documentation&lt;/a&gt;
     */
    public GHTeam getTeam(long teamId) throws IOException {
<span class="fc" id="L151">        return root().createRequest()</span>
<span class="fc" id="L152">                .withUrlPath(String.format(&quot;/organizations/%d/team/%d&quot;, getId(), teamId))</span>
<span class="fc" id="L153">                .fetch(GHTeam.class)</span>
<span class="fc" id="L154">                .wrapUp(this);</span>
    }

    /**
     * Finds a team that has the given name in its {@link GHTeam#getName()}.
     *
     * @param name
     *            the name
     * @return the team by name
     * @throws IOException
     *             the io exception
     */
    public GHTeam getTeamByName(String name) throws IOException {
<span class="pc bpc" id="L167" title="1 of 2 branches missed.">        for (GHTeam t : listTeams()) {</span>
<span class="fc bfc" id="L168" title="All 2 branches covered.">            if (t.getName().equals(name))</span>
<span class="fc" id="L169">                return t;</span>
<span class="fc" id="L170">        }</span>
<span class="nc" id="L171">        return null;</span>
    }

    /**
     * Finds a team that has the given slug in its {@link GHTeam#getSlug()}.
     *
     * @param slug
     *            the slug
     * @return the team by slug
     * @throws IOException
     *             the io exception
     * @see &lt;a href= &quot;https://developer.github.com/v3/teams/#get-team-by-name&quot;&gt;documentation&lt;/a&gt;
     */
    public GHTeam getTeamBySlug(String slug) throws IOException {
<span class="fc" id="L185">        return root().createRequest()</span>
<span class="fc" id="L186">                .withUrlPath(String.format(&quot;/orgs/%s/teams/%s&quot;, login, slug))</span>
<span class="fc" id="L187">                .fetch(GHTeam.class)</span>
<span class="fc" id="L188">                .wrapUp(this);</span>
    }

    /**
     * List up all the external groups.
     *
     * @return the paged iterable
     * @throws IOException
     *             the io exception
     * @see &lt;a href=
     *      &quot;https://docs.github.com/en/enterprise-cloud@latest/rest/teams/external-groups?apiVersion=2022-11-28#list-external-groups-in-an-organization&quot;&gt;documentation&lt;/a&gt;
     */
    public PagedIterable&lt;GHExternalGroup&gt; listExternalGroups() throws IOException {
<span class="fc" id="L201">        return listExternalGroups(null);</span>
    }

    /**
     * List up all the external groups with a given text in their name
     *
     * @param displayName
     *            the text that must be part of the returned groups name
     * @return the paged iterable
     * @throws IOException
     *             the io exception
     * @see &lt;a href=
     *      &quot;https://docs.github.com/en/enterprise-cloud@latest/rest/teams/external-groups?apiVersion=2022-11-28#list-external-groups-in-an-organization&quot;&gt;documentation&lt;/a&gt;
     */
    public PagedIterable&lt;GHExternalGroup&gt; listExternalGroups(final String displayName) throws IOException {
<span class="fc" id="L216">        final Requester requester = root().createRequest()</span>
<span class="fc" id="L217">                .withUrlPath(String.format(&quot;/orgs/%s/external-groups&quot;, login));</span>
<span class="fc bfc" id="L218" title="All 2 branches covered.">        if (displayName != null) {</span>
<span class="fc" id="L219">            requester.with(&quot;display_name&quot;, displayName);</span>
        }
<span class="fc" id="L221">        return new GHExternalGroupIterable(this, requester);</span>
    }

    /**
     * Gets a single external group by ID.
     *
     * @param groupId
     *            id of the external group that we want to query for
     * @return the external group
     * @throws IOException
     *             the io exception
     * @see &lt;a href=
     *      &quot;https://docs.github.com/en/enterprise-cloud@latest/rest/teams/external-groups?apiVersion=2022-11-28#get-an-external-group&quot;&gt;documentation&lt;/a&gt;
     */
    public GHExternalGroup getExternalGroup(final long groupId) throws IOException {
        try {
<span class="fc" id="L237">            return root().createRequest()</span>
<span class="fc" id="L238">                    .withUrlPath(String.format(&quot;/orgs/%s/external-group/%d&quot;, login, groupId))</span>
<span class="fc" id="L239">                    .fetch(GHExternalGroup.class)</span>
<span class="fc" id="L240">                    .wrapUp(this);</span>
<span class="fc" id="L241">        } catch (final HttpException e) {</span>
<span class="fc" id="L242">            throw EnterpriseManagedSupport.forOrganization(this)</span>
<span class="fc" id="L243">                    .filterException(e, &quot;Could not retrieve organization external group&quot;)</span>
<span class="fc" id="L244">                    .orElse(e);</span>
        }
    }

    /**
     * Member's role in an organization.
     */
<span class="fc" id="L251">    public enum Role {</span>

        /** The admin. */
<span class="fc" id="L254">        ADMIN,</span>
        /** The user is an owner of the organization. */
<span class="fc" id="L256">        MEMBER /** The user is a non-owner member of the organization. */</span>
    }

    /**
     * Adds (invites) a user to the organization.
     *
     * @param user
     *            the user
     * @param role
     *            the role
     * @throws IOException
     *             the io exception
     * @see &lt;a href=
     *      &quot;https://developer.github.com/v3/orgs/members/#add-or-update-organization-membership&quot;&gt;documentation&lt;/a&gt;
     */
    public void add(GHUser user, Role role) throws IOException {
<span class="fc" id="L272">        root().createRequest()</span>
<span class="fc" id="L273">                .method(&quot;PUT&quot;)</span>
<span class="fc" id="L274">                .with(&quot;role&quot;, role.name().toLowerCase())</span>
<span class="fc" id="L275">                .withUrlPath(&quot;/orgs/&quot; + login + &quot;/memberships/&quot; + user.getLogin())</span>
<span class="fc" id="L276">                .send();</span>
<span class="fc" id="L277">    }</span>

    /**
     * Checks if this organization has the specified user as a member.
     *
     * @param user
     *            the user
     * @return the boolean
     */
    public boolean hasMember(GHUser user) {
        try {
<span class="fc" id="L288">            root().createRequest().withUrlPath(&quot;/orgs/&quot; + login + &quot;/members/&quot; + user.getLogin()).send();</span>
<span class="fc" id="L289">            return true;</span>
<span class="fc" id="L290">        } catch (IOException ignore) {</span>
<span class="fc" id="L291">            return false;</span>
        }
    }

    /**
     * Obtains the object that represents the user membership. In order to get a user's membership with an organization,
     * the authenticated user must be an organization member. The state parameter in the response can be used to
     * identify the user's membership status.
     *
     * @param username
     *            the user's username
     * @return the GHMembership if the username belongs to the organisation, otherwise null
     * @throws IOException
     *             the io exception
     *
     * @see &lt;a href=
     *      &quot;https://docs.github.com/en/rest/orgs/members?apiVersion=2022-11-28#get-organization-membership-for-a-user&quot;&gt;documentation&lt;/a&gt;
     */
    public GHMembership getMembership(String username) throws IOException {
<span class="fc" id="L310">        return root().createRequest()</span>
<span class="fc" id="L311">                .withUrlPath(&quot;/orgs/&quot; + login + &quot;/memberships/&quot; + username)</span>
<span class="fc" id="L312">                .fetch(GHMembership.class);</span>
    }

    /**
     * Remove a member of the organisation - which will remove them from all teams, and remove their access to the
     * organizationâ€™s repositories.
     *
     * @param user
     *            the user
     * @throws IOException
     *             the io exception
     */
    public void remove(GHUser user) throws IOException {
<span class="nc" id="L325">        root().createRequest().method(&quot;DELETE&quot;).withUrlPath(&quot;/orgs/&quot; + login + &quot;/members/&quot; + user.getLogin()).send();</span>
<span class="nc" id="L326">    }</span>

    /**
     * Checks if this organization has the specified user as a public member.
     *
     * @param user
     *            the user
     * @return the boolean
     */
    public boolean hasPublicMember(GHUser user) {
        try {
<span class="fc" id="L337">            root().createRequest().withUrlPath(&quot;/orgs/&quot; + login + &quot;/public_members/&quot; + user.getLogin()).send();</span>
<span class="fc" id="L338">            return true;</span>
<span class="fc" id="L339">        } catch (IOException ignore) {</span>
<span class="fc" id="L340">            return false;</span>
        }
    }

    /**
     * Publicizes the membership.
     *
     * @param u
     *            the u
     * @throws IOException
     *             the io exception
     */
    public void publicize(GHUser u) throws IOException {
<span class="nc" id="L353">        root().createRequest().method(&quot;PUT&quot;).withUrlPath(&quot;/orgs/&quot; + login + &quot;/public_members/&quot; + u.getLogin()).send();</span>
<span class="nc" id="L354">    }</span>

    /**
     * Gets members.
     *
     * @return the members
     * @throws IOException
     *             the io exception
     * @deprecated use {@link #listMembers()}
     */
    public List&lt;GHUser&gt; getMembers() throws IOException {
<span class="nc" id="L365">        return listMembers().toList();</span>
    }

    /**
     * All the members of this organization.
     *
     * @return the paged iterable
     * @throws IOException
     *             the io exception
     */
    public PagedIterable&lt;GHUser&gt; listMembers() throws IOException {
<span class="nc" id="L376">        return listMembers(&quot;members&quot;);</span>
    }

    /**
     * All the public members of this organization.
     *
     * @return the paged iterable
     * @throws IOException
     *             the io exception
     */
    public PagedIterable&lt;GHUser&gt; listPublicMembers() throws IOException {
<span class="nc" id="L387">        return listMembers(&quot;public_members&quot;);</span>
    }

    /**
     * All the outside collaborators of this organization.
     *
     * @return the paged iterable
     * @throws IOException
     *             the io exception
     */
    public PagedIterable&lt;GHUser&gt; listOutsideCollaborators() throws IOException {
<span class="fc" id="L398">        return listMembers(&quot;outside_collaborators&quot;);</span>
    }

    private PagedIterable&lt;GHUser&gt; listMembers(String suffix) throws IOException {
<span class="fc" id="L402">        return listMembers(suffix, null, null);</span>
    }

    /**
     * List members with filter paged iterable.
     *
     * @param filter
     *            the filter
     * @return the paged iterable
     * @throws IOException
     *             the io exception
     */
    public PagedIterable&lt;GHUser&gt; listMembersWithFilter(String filter) throws IOException {
<span class="fc" id="L415">        return listMembers(&quot;members&quot;, filter, null);</span>
    }

    /**
     * List outside collaborators with filter paged iterable.
     *
     * @param filter
     *            the filter
     * @return the paged iterable
     * @throws IOException
     *             the io exception
     */
    public PagedIterable&lt;GHUser&gt; listOutsideCollaboratorsWithFilter(String filter) throws IOException {
<span class="fc" id="L428">        return listMembers(&quot;outside_collaborators&quot;, filter, null);</span>
    }

    /**
     * List members with specified role paged iterable.
     *
     * @param role
     *            the role
     * @return the paged iterable
     * @throws IOException
     *             the io exception
     */
    public PagedIterable&lt;GHUser&gt; listMembersWithRole(String role) throws IOException {
<span class="fc" id="L441">        return listMembers(&quot;members&quot;, null, role);</span>
    }

    private PagedIterable&lt;GHUser&gt; listMembers(final String suffix, final String filter, String role)
            throws IOException {
<span class="fc" id="L446">        return root().createRequest()</span>
<span class="fc" id="L447">                .withUrlPath(String.format(&quot;/orgs/%s/%s&quot;, login, suffix))</span>
<span class="fc" id="L448">                .with(&quot;filter&quot;, filter)</span>
<span class="fc" id="L449">                .with(&quot;role&quot;, role)</span>
<span class="fc" id="L450">                .toIterable(GHUser[].class, null);</span>
    }

    /**
     * List up all the security managers.
     *
     * @return the paged iterable
     * @throws IOException
     *             the io exception
     */
    public PagedIterable&lt;GHTeam&gt; listSecurityManagers() throws IOException {
<span class="fc" id="L461">        return root().createRequest()</span>
<span class="fc" id="L462">                .withUrlPath(String.format(&quot;/orgs/%s/security-managers&quot;, login))</span>
<span class="fc" id="L463">                .toIterable(GHTeam[].class, item -&gt; item.wrapUp(this));</span>
    }

    /**
     * Conceals the membership.
     *
     * @param u
     *            the u
     * @throws IOException
     *             the io exception
     */
    public void conceal(GHUser u) throws IOException {
<span class="nc" id="L475">        root().createRequest()</span>
<span class="nc" id="L476">                .method(&quot;DELETE&quot;)</span>
<span class="nc" id="L477">                .withUrlPath(&quot;/orgs/&quot; + login + &quot;/public_members/&quot; + u.getLogin())</span>
<span class="nc" id="L478">                .send();</span>
<span class="nc" id="L479">    }</span>

    /**
     * Are projects enabled for organization boolean.
     *
     * @return the boolean
     */
    public boolean areOrganizationProjectsEnabled() {
<span class="fc" id="L487">        return has_organization_projects;</span>
    }

    /**
     * Sets organization projects enabled status boolean.
     *
     * @param newStatus
     *            enable status
     * @throws IOException
     *             the io exception
     */
    public void enableOrganizationProjects(boolean newStatus) throws IOException {
<span class="fc" id="L499">        edit(&quot;has_organization_projects&quot;, newStatus);</span>
<span class="fc" id="L500">    }</span>

    private void edit(String key, Object value) throws IOException {
<span class="fc" id="L503">        root().createRequest()</span>
<span class="fc" id="L504">                .withUrlPath(String.format(&quot;/orgs/%s&quot;, login))</span>
<span class="fc" id="L505">                .method(&quot;PATCH&quot;)</span>
<span class="fc" id="L506">                .with(key, value)</span>
<span class="fc" id="L507">                .fetchInto(this);</span>
<span class="fc" id="L508">    }</span>

    /**
     * Returns the projects for this organization.
     *
     * @param status
     *            The status filter (all, open or closed).
     * @return the paged iterable
     * @throws IOException
     *             the io exception
     */
    public PagedIterable&lt;GHProject&gt; listProjects(final GHProject.ProjectStateFilter status) throws IOException {
<span class="nc" id="L520">        return root().createRequest()</span>
<span class="nc" id="L521">                .withPreview(INERTIA)</span>
<span class="nc" id="L522">                .with(&quot;state&quot;, status)</span>
<span class="nc" id="L523">                .withUrlPath(String.format(&quot;/orgs/%s/projects&quot;, login))</span>
<span class="nc" id="L524">                .toIterable(GHProject[].class, null);</span>
    }

    /**
     * Returns all open projects for the organization.
     *
     * @return the paged iterable
     * @throws IOException
     *             the io exception
     */
    public PagedIterable&lt;GHProject&gt; listProjects() throws IOException {
<span class="nc" id="L535">        return listProjects(GHProject.ProjectStateFilter.OPEN);</span>
    }

    /**
     * Creates a project for the organization.
     *
     * @param name
     *            the name
     * @param body
     *            the body
     * @return the gh project
     * @throws IOException
     *             the io exception
     */
    public GHProject createProject(String name, String body) throws IOException {
<span class="fc" id="L550">        return root().createRequest()</span>
<span class="fc" id="L551">                .method(&quot;POST&quot;)</span>
<span class="fc" id="L552">                .withPreview(INERTIA)</span>
<span class="fc" id="L553">                .with(&quot;name&quot;, name)</span>
<span class="fc" id="L554">                .with(&quot;body&quot;, body)</span>
<span class="fc" id="L555">                .withUrlPath(String.format(&quot;/orgs/%s/projects&quot;, login))</span>
<span class="fc" id="L556">                .fetch(GHProject.class);</span>
    }

    /**
     * The enum Permission.
     *
     * @see RepositoryRole
     */
<span class="fc" id="L564">    public enum Permission {</span>

        /** The admin. */
<span class="fc" id="L567">        ADMIN,</span>
        /** The maintain. */
<span class="fc" id="L569">        MAINTAIN,</span>
        /** The push. */
<span class="fc" id="L571">        PUSH,</span>
        /** The triage. */
<span class="fc" id="L573">        TRIAGE,</span>
        /** The pull. */
<span class="fc" id="L575">        PULL,</span>
        /** Unknown, before we add the new permission to the enum */
<span class="fc" id="L577">        UNKNOWN</span>
    }

    /**
     * Repository permissions (roles) for teams and collaborators.
     */
    public static class RepositoryRole {
        private final String permission;

<span class="fc" id="L586">        private RepositoryRole(String permission) {</span>
<span class="fc" id="L587">            this.permission = permission;</span>
<span class="fc" id="L588">        }</span>

        /**
         * Custom.
         *
         * @param permission
         *            the permission
         * @return the repository role
         */
        public static RepositoryRole custom(String permission) {
<span class="fc" id="L598">            return new RepositoryRole(permission);</span>
        }

        /**
         * From.
         *
         * @param permission
         *            the permission
         * @return the repository role
         */
        public static RepositoryRole from(Permission permission) {
<span class="fc" id="L609">            return custom(permission.toString().toLowerCase());</span>
        }

        /**
         * To string.
         *
         * @return the string
         */
        @Override
        public String toString() {
<span class="fc" id="L619">            return permission;</span>
        }
    }

    /**
     * Creates a new team and assigns the repositories.
     *
     * @param name
     *            the name
     * @param p
     *            the p
     * @param repositories
     *            the repositories
     * @return the gh team
     * @throws IOException
     *             the io exception
     * @deprecated https://developer.github.com/v3/teams/#create-team deprecates permission field use
     *             {@link #createTeam(String)}
     */
    @Deprecated
    public GHTeam createTeam(String name, Permission p, Collection&lt;GHRepository&gt; repositories) throws IOException {
<span class="fc" id="L640">        Requester post = root().createRequest().method(&quot;POST&quot;).with(&quot;name&quot;, name).with(&quot;permission&quot;, p);</span>
<span class="fc" id="L641">        List&lt;String&gt; repo_names = new ArrayList&lt;String&gt;();</span>
<span class="fc bfc" id="L642" title="All 2 branches covered.">        for (GHRepository r : repositories) {</span>
<span class="fc" id="L643">            repo_names.add(login + &quot;/&quot; + r.getName());</span>
<span class="fc" id="L644">        }</span>
<span class="fc" id="L645">        post.with(&quot;repo_names&quot;, repo_names);</span>
<span class="fc" id="L646">        return post.withUrlPath(&quot;/orgs/&quot; + login + &quot;/teams&quot;).fetch(GHTeam.class).wrapUp(this);</span>
    }

    /**
     * Create team gh team.
     *
     * @param name
     *            the name
     * @param p
     *            the p
     * @param repositories
     *            the repositories
     * @return the gh team
     * @throws IOException
     *             the io exception
     * @deprecated https://developer.github.com/v3/teams/#create-team deprecates permission field use
     *             {@link #createTeam(String)}
     */
    @Deprecated
    public GHTeam createTeam(String name, Permission p, GHRepository... repositories) throws IOException {
<span class="fc" id="L666">        return createTeam(name, p, Arrays.asList(repositories));</span>
    }

    /**
     * Creates a new team and assigns the repositories.
     *
     * @param name
     *            the name
     * @param repositories
     *            the repositories
     * @return the gh team
     * @throws IOException
     *             the io exception
     * @deprecated Use {@link #createTeam(String)} that uses a builder pattern to let you control every aspect.
     */
    @Deprecated
    public GHTeam createTeam(String name, Collection&lt;GHRepository&gt; repositories) throws IOException {
<span class="fc" id="L683">        Requester post = root().createRequest().method(&quot;POST&quot;).with(&quot;name&quot;, name);</span>
<span class="fc" id="L684">        List&lt;String&gt; repo_names = new ArrayList&lt;String&gt;();</span>
<span class="fc bfc" id="L685" title="All 2 branches covered.">        for (GHRepository r : repositories) {</span>
<span class="fc" id="L686">            repo_names.add(login + &quot;/&quot; + r.getName());</span>
<span class="fc" id="L687">        }</span>
<span class="fc" id="L688">        post.with(&quot;repo_names&quot;, repo_names);</span>
<span class="fc" id="L689">        return post.withUrlPath(&quot;/orgs/&quot; + login + &quot;/teams&quot;).fetch(GHTeam.class).wrapUp(this);</span>
    }

    /**
     * Create team gh team.
     *
     * @param name
     *            the name
     * @param repositories
     *            the repositories
     * @return the gh team
     * @throws IOException
     *             the io exception
     * @deprecated Use {@link #createTeam(String)} that uses a builder pattern to let you control every aspect.
     */
    @Deprecated
    public GHTeam createTeam(String name, GHRepository... repositories) throws IOException {
<span class="fc" id="L706">        return createTeam(name, Arrays.asList(repositories));</span>
    }

    /**
     * Starts a builder that creates a new team.
     * &lt;p&gt;
     * You use the returned builder to set various properties, then call {@link GHTeamBuilder#create()} to finally
     * create a team.
     *
     * @param name
     *            the name
     * @return the gh create repository builder
     */
    public GHTeamBuilder createTeam(String name) {
<span class="fc" id="L720">        return new GHTeamBuilder(root(), login, name);</span>
    }

    /**
     * List up repositories that has some open pull requests.
     * &lt;p&gt;
     * This used to be an efficient method that didn't involve traversing every repository, but now it doesn't do any
     * optimization.
     *
     * @return the repositories with open pull requests
     * @throws IOException
     *             the io exception
     */
    public List&lt;GHRepository&gt; getRepositoriesWithOpenPullRequests() throws IOException {
<span class="nc" id="L734">        List&lt;GHRepository&gt; r = new ArrayList&lt;GHRepository&gt;();</span>
<span class="nc bnc" id="L735" title="All 2 branches missed.">        for (GHRepository repository : listRepositories(100)) {</span>
<span class="nc" id="L736">            List&lt;GHPullRequest&gt; pullRequests = repository.getPullRequests(GHIssueState.OPEN);</span>
<span class="nc bnc" id="L737" title="All 2 branches missed.">            if (pullRequests.size() &gt; 0) {</span>
<span class="nc" id="L738">                r.add(repository);</span>
            }
<span class="nc" id="L740">        }</span>
<span class="nc" id="L741">        return r;</span>
    }

    /**
     * Gets all the open pull requests in this organization.
     *
     * @return the pull requests
     * @throws IOException
     *             the io exception
     */
    public List&lt;GHPullRequest&gt; getPullRequests() throws IOException {
<span class="nc" id="L752">        List&lt;GHPullRequest&gt; all = new ArrayList&lt;GHPullRequest&gt;();</span>
<span class="nc bnc" id="L753" title="All 2 branches missed.">        for (GHRepository r : getRepositoriesWithOpenPullRequests()) {</span>
<span class="nc" id="L754">            all.addAll(r.getPullRequests(GHIssueState.OPEN));</span>
<span class="nc" id="L755">        }</span>
<span class="nc" id="L756">        return all;</span>
    }

    /**
     * Lists events performed by a user (this includes private events if the caller is authenticated.
     *
     * @return the paged iterable
     * @throws IOException
     *             Signals that an I/O exception has occurred.
     */
    public PagedIterable&lt;GHEventInfo&gt; listEvents() throws IOException {
<span class="nc" id="L767">        return root().createRequest()</span>
<span class="nc" id="L768">                .withUrlPath(String.format(&quot;/orgs/%s/events&quot;, login))</span>
<span class="nc" id="L769">                .toIterable(GHEventInfo[].class, null);</span>
    }

    /**
     * Lists up all the repositories using the specified page size.
     *
     * @param pageSize
     *            size for each page of items returned by GitHub. Maximum page size is 100. Unlike
     *            {@link #getRepositories()}, this does not wait until all the repositories are returned.
     * @return the paged iterable
     */
    @Override
    public PagedIterable&lt;GHRepository&gt; listRepositories(final int pageSize) {
<span class="fc" id="L782">        return root().createRequest()</span>
<span class="fc" id="L783">                .withUrlPath(&quot;/orgs/&quot; + login + &quot;/repos&quot;)</span>
<span class="fc" id="L784">                .toIterable(GHRepository[].class, null)</span>
<span class="fc" id="L785">                .withPageSize(pageSize);</span>
    }

    /**
     * Retrieves the currently configured hooks.
     *
     * @return the hooks
     * @throws IOException
     *             the io exception
     */
    public List&lt;GHHook&gt; getHooks() throws IOException {
<span class="nc" id="L796">        return GHHooks.orgContext(this).getHooks();</span>
    }

    /**
     * Gets hook.
     *
     * @param id
     *            the id
     * @return the hook
     * @throws IOException
     *             the io exception
     */
    public GHHook getHook(int id) throws IOException {
<span class="fc" id="L809">        return GHHooks.orgContext(this).getHook(id);</span>
    }

    /**
     * Deletes hook.
     *
     * @param id
     *            the id
     * @throws IOException
     *             the io exception
     */
    public void deleteHook(int id) throws IOException {
<span class="fc" id="L821">        GHHooks.orgContext(this).deleteHook(id);</span>
<span class="fc" id="L822">    }</span>

    /**
     * See https://api.github.com/hooks for possible names and their configuration scheme. TODO: produce type-safe
     * binding
     *
     * @param name
     *            Type of the hook to be created. See https://api.github.com/hooks for possible names.
     * @param config
     *            The configuration hash.
     * @param events
     *            Can be null. Types of events to hook into.
     * @param active
     *            the active
     * @return the gh hook
     * @throws IOException
     *             the io exception
     */
    public GHHook createHook(String name, Map&lt;String, String&gt; config, Collection&lt;GHEvent&gt; events, boolean active)
            throws IOException {
<span class="fc" id="L842">        return GHHooks.orgContext(this).createHook(name, config, events, active);</span>
    }

    /**
     * Create web hook gh hook.
     *
     * @param url
     *            the url
     * @param events
     *            the events
     * @return the gh hook
     * @throws IOException
     *             the io exception
     */
    public GHHook createWebHook(URL url, Collection&lt;GHEvent&gt; events) throws IOException {
<span class="fc" id="L857">        return createHook(&quot;web&quot;, Collections.singletonMap(&quot;url&quot;, url.toExternalForm()), events, true);</span>
    }

    /**
     * Create web hook gh hook.
     *
     * @param url
     *            the url
     * @return the gh hook
     * @throws IOException
     *             the io exception
     */
    public GHHook createWebHook(URL url) throws IOException {
<span class="fc" id="L870">        return createWebHook(url, null);</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>