[
  {
    "url": "https://api.github.com/repos/hub4j/github-api/issues/comments/606687982",
    "html_url": "https://github.com/hub4j/github-api/issues/729#issuecomment-606687982",
    "issue_url": "https://api.github.com/repos/hub4j/github-api/issues/729",
    "id": 606687982,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNjY4Nzk4Mg==",
    "user": {
      "login": "bitwiseman",
      "id": 1958953,
      "node_id": "MDQ6VXNlcjE5NTg5NTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1958953?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitwiseman",
      "html_url": "https://github.com/bitwiseman",
      "followers_url": "https://api.github.com/users/bitwiseman/followers",
      "following_url": "https://api.github.com/users/bitwiseman/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitwiseman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitwiseman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitwiseman/subscriptions",
      "organizations_url": "https://api.github.com/users/bitwiseman/orgs",
      "repos_url": "https://api.github.com/users/bitwiseman/repos",
      "events_url": "https://api.github.com/users/bitwiseman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitwiseman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-31T15:10:27Z",
    "updated_at": "2020-03-31T16:50:58Z",
    "author_association": "COLLABORATOR",
    "body": "@centic9 \r\nI think this might be another expression of #751 - encoding returning null sounds like a similar problem. ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hub4j/github-api/issues/comments/607506094",
    "html_url": "https://github.com/hub4j/github-api/issues/729#issuecomment-607506094",
    "issue_url": "https://api.github.com/repos/hub4j/github-api/issues/729",
    "id": 607506094,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNzUwNjA5NA==",
    "user": {
      "login": "bitwiseman",
      "id": 1958953,
      "node_id": "MDQ6VXNlcjE5NTg5NTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1958953?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitwiseman",
      "html_url": "https://github.com/bitwiseman",
      "followers_url": "https://api.github.com/users/bitwiseman/followers",
      "following_url": "https://api.github.com/users/bitwiseman/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitwiseman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitwiseman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitwiseman/subscriptions",
      "organizations_url": "https://api.github.com/users/bitwiseman/orgs",
      "repos_url": "https://api.github.com/users/bitwiseman/repos",
      "events_url": "https://api.github.com/users/bitwiseman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitwiseman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-01T21:46:35Z",
    "updated_at": "2020-04-01T21:46:35Z",
    "author_association": "COLLABORATOR",
    "body": "@centic9 Could you try this again with v1.109? ",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hub4j/github-api/issues/comments/607669039",
    "html_url": "https://github.com/hub4j/github-api/issues/729#issuecomment-607669039",
    "issue_url": "https://api.github.com/repos/hub4j/github-api/issues/729",
    "id": 607669039,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNzY2OTAzOQ==",
    "user": {
      "login": "centic9",
      "id": 548322,
      "node_id": "MDQ6VXNlcjU0ODMyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548322?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/centic9",
      "html_url": "https://github.com/centic9",
      "followers_url": "https://api.github.com/users/centic9/followers",
      "following_url": "https://api.github.com/users/centic9/following{/other_user}",
      "gists_url": "https://api.github.com/users/centic9/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/centic9/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/centic9/subscriptions",
      "organizations_url": "https://api.github.com/users/centic9/orgs",
      "repos_url": "https://api.github.com/users/centic9/repos",
      "events_url": "https://api.github.com/users/centic9/events{/privacy}",
      "received_events_url": "https://api.github.com/users/centic9/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-02T07:22:41Z",
    "updated_at": "2020-04-02T07:22:41Z",
    "author_association": "NONE",
    "body": "Tried with 109, unfortunately the test-case posted above still fails with the same NPE\r\n\r\nCaused by: java.lang.NullPointerException\r\n\tat org.kohsuke.github.GHContent.read(GHContent.java:175)\r\n\tat GitHubSupportTest.testNullPointerException(GitHubSupportTest.java:85)\r\n",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/hub4j/github-api/issues/comments/616922000",
    "html_url": "https://github.com/hub4j/github-api/issues/729#issuecomment-616922000",
    "issue_url": "https://api.github.com/repos/hub4j/github-api/issues/729",
    "id": 616922000,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjkyMjAwMA==",
    "user": {
      "login": "bitwiseman",
      "id": 1958953,
      "node_id": "MDQ6VXNlcjE5NTg5NTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1958953?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitwiseman",
      "html_url": "https://github.com/bitwiseman",
      "followers_url": "https://api.github.com/users/bitwiseman/followers",
      "following_url": "https://api.github.com/users/bitwiseman/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitwiseman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitwiseman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitwiseman/subscriptions",
      "organizations_url": "https://api.github.com/users/bitwiseman/orgs",
      "repos_url": "https://api.github.com/users/bitwiseman/repos",
      "events_url": "https://api.github.com/users/bitwiseman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitwiseman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-21T02:58:42Z",
    "updated_at": "2020-04-21T03:31:46Z",
    "author_association": "COLLABORATOR",
    "body": "@centic9 Thanks for this report, the test, and for trying it again.\r\n\r\nFound the problem.  It is due to the `#` characters in your folder/file names. \r\n\r\nThe search your example runs is this URL: \r\n```\r\nhttps://api.github.com/search/code?q=repo%3ASavyonify%2FcryptApiSet%2F+filename%3Abuild.gradle\r\n```\r\n\r\n\r\nThe first item it returns starts this way:\r\n```\r\n{\r\n  \"total_count\": 2,\r\n  \"incomplete_results\": false,\r\n  \"items\": [\r\n    {\r\n      \"name\": \"build.gradle\",\r\n      \"path\": \"BC Projects/#6 Tron Java/crypto/build.gradle\",\r\n      \"sha\": \"74fd8cc18c4e3c84bd69d8b3bc1a618a5d743bf1\",\r\n      \"url\": \"https://api.github.com/repositories/223952556/contents/BC%20Projects/#6%20Tron%20Java/crypto/build.gradle?ref=7b9fc9f06caef84ac8c970b578b67982cb852ddf\",\r\n      \"git_url\": \"https://api.github.com/repositories/223952556/git/blobs/74fd8cc18c4e3c84bd69d8b3bc1a618a5d743bf1\",\r\n      \"html_url\": \"https://github.com/Savyonify/cryptApiSet/blob/7b9fc9f06caef84ac8c970b578b67982cb852ddf/BC%20Projects/#6%20Tron%20Java/crypto/build.gradle\",\r\n      \"repository\": {\r\n        \"id\": 223952556,\r\n        \"node_id\": \"MDEwOlJlcG9zaXRvcnkyMjM5NTI1NTY=\",\r\n        \"name\": \"cryptApiSet\",\r\n        \"full_name\": \"Savyonify/cryptApiSet\",\r\n        \"private\": false,\r\n        \"owner\": {\r\n```\r\n\r\nIf you get this same item separate from the the Search API (from listing the contents of folders) you get this: \r\n\r\n```\r\n{\r\n  \"name\": \"build.gradle\",\r\n  \"path\": \"BC Projects/#6 Tron Java/crypto/build.gradle\",\r\n  \"sha\": \"74fd8cc18c4e3c84bd69d8b3bc1a618a5d743bf1\",\r\n  \"size\": 323,\r\n  \"url\": \"https://api.github.com/repos/Savyonify/cryptApiSet/contents/BC%20Projects/%236%20Tron%20Java/crypto/build.gradle?ref=7b9fc9f06caef84ac8c970b578b67982cb852ddf\",\r\n  \"html_url\": \"https://github.com/Savyonify/cryptApiSet/blob/7b9fc9f06caef84ac8c970b578b67982cb852ddf/BC%20Projects/%236%20Tron%20Java/crypto/build.gradle\",\r\n  \"git_url\": \"https://api.github.com/repos/Savyonify/cryptApiSet/git/blobs/74fd8cc18c4e3c84bd69d8b3bc1a618a5d743bf1\",\r\n  \"download_url\": \"https://raw.githubusercontent.com/Savyonify/cryptApiSet/7b9fc9f06caef84ac8c970b578b67982cb852ddf/BC%20Projects/%236%20Tron%20Java/crypto/build.gradle\",\r\n  \"type\": \"file\",\r\n  \"content\": \"cGx1Z2lucyB7CiAgICBpZCAnamF2YScKfQoKdmVyc2lvbiAnMS4wLjAnCgpz\\nb3VyY2VDb21wYXRpYmlsaXR5ID0gMS44CgpyZXBvc2l0b3JpZXMgewogICAg\\nbWF2ZW5DZW50cmFsKCkKfQoKZGVwZW5kZW5jaWVzIHsKICAgIHRlc3RDb21w\\naWxlIGdyb3VwOiAnanVuaXQnLCBuYW1lOiAnanVuaXQnLCB2ZXJzaW9uOiAn\\nNC4xMicKICAgIGNvbXBpbGUgImNvbS5tYWRnYWcuc3Bvbmd5Y2FzdGxlOmNv\\ncmU6MS41OC4wLjAiCiAgICBjb21waWxlICJjb20ubWFkZ2FnLnNwb25neWNh\\nc3RsZTpwcm92OjEuNTguMC4wIgogICAgY29tcGlsZSBwcm9qZWN0KCI6Y29t\\nbW9uIikKfQo=\\n\",\r\n  \"encoding\": \"base64\",\r\n  \"_links\": {\r\n    \"self\": \"https://api.github.com/repos/Savyonify/cryptApiSet/contents/BC%20Projects/%236%20Tron%20Java/crypto/build.gradle?ref=7b9fc9f06caef84ac8c970b578b67982cb852ddf\",\r\n    \"git\": \"https://api.github.com/repos/Savyonify/cryptApiSet/git/blobs/74fd8cc18c4e3c84bd69d8b3bc1a618a5d743bf1\",\r\n    \"html\": \"https://github.com/Savyonify/cryptApiSet/blob/7b9fc9f06caef84ac8c970b578b67982cb852ddf/BC%20Projects/%236%20Tron%20Java/crypto/build.gradle\"\r\n  }\r\n}\r\n```\r\n\r\nNotice the difference in `url` fields (which should be the same):\r\n```\r\nSearch API : https://api.github.com/repositories/223952556/contents/BC%20Projects/#6%20Tron%20Java/crypto/build.gradle?ref=7b9fc9f06caef84ac8c970b578b67982cb852ddf\r\nBare API   : https://api.github.com/repos/Savyonify/cryptApiSet/contents/BC%20Projects/%236%20Tron%20Java/crypto/build.gradle?ref=7b9fc9f06caef84ac8c970b578b67982cb852ddf\r\n```\r\n\r\nThe `#` in the search URL results in github treating that url as : `https://api.github.com/repositories/223952556/contents/BC%20Projects/` which is a valid but also completely different than expected data. This code is where the problem occurs: \r\n\r\nhttps://github.com/github-api/github-api/blob/c1c919097a80df9a230b82c091f3f99502ebb916/src/main/java/org/kohsuke/github/GHContent.java#L397-L399\r\n\r\nThis library generally still shouldn't throw a `NullPointerExeception`s, but this is first and foremost a bug in the GitHub Search API.  Fixing it will involve switch to constructing the url by hand, which is not reliable.  Special casing for `#` is possible but likely to be a whack a mole of problems.  If the `url` isn't correctly encoded for `#` there are probably other issues.  \r\n\r\n\r\n",
    "performed_via_github_app": null
  }
]